(function(t){function e(e){for(var o,r,i=e[0],l=e[1],c=e[2],u=0,d=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);m&&m(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(o=!1)}o&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var o={},s={app:0},n=[];function r(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=o,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(a,o,function(e){return t[e]}.bind(null,o));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var m=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0146":function(t,e,a){"use strict";var o=a("26d8"),s=a.n(o);s.a},"034f":function(t,e,a){"use strict";var o=a("64a9"),s=a.n(o);s.a},"0443":function(t,e,a){},"1d74":function(t,e,a){},"1f3f":function(t,e,a){},"26d8":function(t,e,a){},"2dd6":function(t,e,a){"use strict";var o=a("f95f"),s=a.n(o);s.a},"2f3b":function(t,e,a){},3735:function(t,e,a){"use strict";var o=a("94aa"),s=a.n(o);s.a},"3ee0":function(t,e,a){t.exports=a.p+"img/c-proc.cdf21ccd.png"},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var o=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.validatingToken?a("Loading"):a("Content")],1)},n=[],r=(a("96cf"),a("3b8d")),i="__ceproc_user",l="http://salasol-com-br.umbler.net";function c(t){o["default"].toasted.global.defaultError({msg:t})}var m=a("2f62"),u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"header"},[t.user?o("b-navbar",{staticClass:"header-nav",attrs:{toggleable:"lg",type:"dark"}},[o("b-navbar-brand",{staticClass:"header-title",attrs:{href:"#"}},[o("img",{attrs:{src:a("3ee0"),alt:"Logo",width:"30"}}),t._v("ceproc\n    ")]),o("span",{staticClass:"client"},[t._v("["+t._s(t.user.tenantAlias)+"]")]),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav",{staticClass:"ml-auto"},[o("b-nav-form",{staticClass:"mr-5"},[o("span",{staticClass:"mr-2",staticStyle:{color:"white"}},[t._v("Pesquisar:")]),o("b-form-input",{staticClass:"mr-1",staticStyle:{"border-width":"2px","border-color":"#C8A741","border-radius":"3px"},attrs:{placeholder:"número do processo..."}}),o("b-button",{staticStyle:{"background-color":"orange"}},[o("i",{staticClass:"fas fa-search"})])],1),o("b-nav-item-dropdown",{attrs:{right:""}},[o("template",{slot:"button-content"},[o("i",{staticClass:"fa fa-user admin-icon"}),t._v("\n            "+t._s(t.user.name)+"\n          ")]),o("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){t.navigate("/admin/users/profile")}}},[o("i",{staticClass:"fa fa-user-circle admin-icon"}),t._v(" Perfil\n          ")]),o("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){t.logout()}}},[o("i",{staticClass:"fas fa-sign-out-alt admin-icon"}),t._v(" Sair\n          ")])],2)],1)],1)],1):t._e()],1)},d=[],f={name:"Header",computed:Object(m["b"])(["user"]),props:{title:String},data:function(){return{divisions:[]}},methods:{navigate:function(t){this.$router.push(t)},logout:function(){localStorage.removeItem(i),this.$store.commit("setUser",null),this.$router.push({name:"auth"})}}},v=f,b=(a("9f34"),a("2877")),h=Object(b["a"])(v,u,d,!1,null,null,null),p=h.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("router-view")],1)},_=[],C={name:"Content"},y=C,k=(a("9551"),Object(b["a"])(y,g,_,!1,null,null,null)),x=k.exports,w=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},S=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"loading"},[o("img",{attrs:{src:a("cf1c"),alt:"Loading"}})])}],R={name:"Loading"},P=R,$=(a("2dd6"),Object(b["a"])(P,w,S,!1,null,null,null)),N=$.exports,E={name:"App",components:{Header:p,Content:x,Loading:N},computed:Object(m["b"])(["user"]),data:function(){return{validatingToken:!0}},methods:{validateToken:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.validatingToken=!0,e=localStorage.getItem(i),a=JSON.parse(e),this.$store.commit("setUser",null),a?this.$store.commit("setUser",a):(this.validatingToken=!1,localStorage.removeItem(i),this.$router.push({name:"auth"})),this.validatingToken=!1;case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.validateToken()}},D=E,B=(a("034f"),Object(b["a"])(D,s,n,!1,null,null,null)),O=B.exports,M=(a("f9e3"),a("2dd8"),a("5f5b"));o["default"].use(M["a"]);var A=a("a65d"),T=a.n(A);o["default"].use(T.a,{iconPack:"fontawesome",duration:3500,position:"bottom-center",theme:"bubble"}),o["default"].toasted.register("defaultSuccess",function(t){return t.msg?t.msg:"Operação realizada com sucesso!"},{type:"success",icon:"check"}),o["default"].toasted.register("defaultError",function(t){return t.msg?t.msg:"Oops... Erro inesperdado."},{type:"error",icon:"times"}),o["default"].toasted.register("defaultInfo",function(t){return t.msg?t.msg:"Tudo certo! Pode prosseguir."},{type:"info",icon:"info"}),o["default"].toasted.register("defaultWarning",function(t){return t.msg?t.msg:"Tudo certo! Pode prosseguir."},{type:"warning",icon:"warning"});var Y=a("bc3a"),q=a.n(Y),j=function(t){return t},I=function(t){if(400===t.response.status)alert("Não foi possível realizar a operação.\n"+t);else{if(403!==t.response.status)return Promise.reject(t);localStorage.removeItem(i),window.location="/",alert("A sessão expirou.\nVocê será redirecionado à tela de login.")}};q.a.interceptors.response.use(j,I),o["default"].use(m["a"]);var U=new m["a"].Store({state:{user:null},mutations:{setUser:function(t,e){t.user=e,e?(q.a.defaults.headers.common["Authorization"]="Bearer ".concat(e.accessToken),t.isMenuVisible=!0):(delete q.a.defaults.headers.common["Authorization"],t.isMenuVisible=!1)}}}),z=a("8c4f"),F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("HomeTitle",{attrs:{main:"home"}}),a("b-card",[a("b-button",{attrs:{block:"",variant:"outline-danger"},on:{click:function(e){t.navigate("/rentbyday")}}},[a("i",{staticClass:"fa fa-calendar-check fa-lg"}),a("br"),t._v("Pesquisar dia específico\n    ")]),a("b-button",{attrs:{block:"",variant:"outline-danger"},on:{click:function(e){t.navigate("/rentbyweek")}}},[a("i",{staticClass:"fa fa-calendar fa-lg"}),a("br"),t._v("Pesquisar na semana\n    ")]),a("b-button",{attrs:{block:"",variant:"outline-info"},on:{click:function(e){t.navigate("/rents")}}},[a("i",{staticClass:"fa fa-user-clock fa-lg"}),a("br"),t._v("Minhas Reservas\n    ")])],1)],1)},W=[],L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home pb-2 mb-2"},[t.user?a("b-navbar",{staticClass:"home-nav",attrs:{fixed:"",toggleable:"lg",type:"dark"}},[a("b-navbar-brand",{staticClass:"header-title",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-door-open fa-lg mr-1"}),t._v(" SalaSol\n    ")]),a("b-navbar-nav",[a("div",[-1!=t.user.profiles.indexOf("admin")?a("b-button",{attrs:{variant:"danger"},on:{click:function(e){t.navigate("/admin")}}},[a("i",{staticClass:"fa fa-cog fa-lg"})]):t._e(),a("b-button",{staticClass:"ml-2",attrs:{variant:"info"},on:{click:function(e){t.navigate("/admin/users/profile")}}},[a("i",{staticClass:"fa fa-user fa-lg"})])],1)])],1):t._e()],1)},V=[],H={name:"PageTitle",props:["main"],computed:Object(m["b"])(["user"]),data:function(){return{}},methods:{navigate:function(t){this.$router.push(t)}},mounted:function(){var t=this;q.a.get("".concat(l,"/users/acceptedcontract")).then(function(e){e.data.acceptedContract||t.navigate("/contract")})}},K=H,J=(a("e5dd"),Object(b["a"])(K,L,V,!1,null,null,null)),Q=J.exports,G={name:"Home",components:{HomeTitle:Q},data:function(){return{}},methods:{navigate:function(t){this.$router.push(t)}},mounted:function(){}},X=G,Z=Object(b["a"])(X,F,W,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contract"},[a("b-card",[a("div",[t._v("\n        CONTRATO\n        "),a("br"),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("Termos do contrato termos do contrato termos do contrato termos do contrato.\n        "),a("br"),t._v("\nTermos do contrato termos do contrato termos do contrato termos do contrato.\n      ")])]),a("hr"),a("b-form-checkbox",{attrs:{name:"isActive"},model:{value:t.user.acceptedContract,callback:function(e){t.$set(t.user,"acceptedContract",e)},expression:"user.acceptedContract"}},[t._v("Aceito os termos do contrato")]),a("hr"),a("b-button",{attrs:{block:"",disabled:!t.user.acceptedContract},on:{click:t.acceptContract}},[t._v("Continuar")])],1)},at=[],ot={name:"Home",components:{},computed:Object(m["b"])(["user"]),data:function(){return{}},methods:{acceptContract:function(){var t=this,e="".concat(l,"/users/acceptcontract");q.a.post(e,this.user).then(function(){t.$router.push("/")}).catch()}},mounted:function(){}},st=ot,nt=Object(b["a"])(st,et,at,!1,null,null,null),rt=nt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin"},[a("PageTitle",{attrs:{main:"Administrar o sistema"}}),a("b-card",[-1!=t.user.profiles.indexOf("master")?a("b-button",{attrs:{block:"",variant:"outline-danger"},on:{click:function(e){t.navigate("/admin/tenants")}}},[a("i",{staticClass:"fa fa-building fa-lg"}),a("br"),t._v("Inquilinos\n    ")]):t._e(),a("b-button",{attrs:{block:"",variant:"outline-danger"},on:{click:function(e){t.navigate("/admin/users")}}},[a("i",{staticClass:"fa fa-user fa-lg"}),a("br"),t._v("Usuários\n    ")]),a("b-button",{attrs:{block:"",variant:"outline-danger"},on:{click:function(e){t.navigate("/admin/rooms")}}},[a("i",{staticClass:"fa fa-building fa-lg"}),a("br"),t._v("Salas\n    ")])],1)],1)},lt=[],ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page pb-2 mb-2"},[t.user?a("b-navbar",{staticClass:"page-nav",attrs:{fixed:"",toggleable:"lg",type:"dark"}},[a("b-navbar-brand",{staticClass:"header-title",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-arrow-left fa-lg mr-2",on:{click:function(e){t.navigate("/")}}}),t._v("\n      "+t._s(t.main)+"\n    ")])],1):t._e()],1)},mt=[],ut={name:"PageTitle",props:["main"],computed:Object(m["b"])(["user"]),data:function(){return{rooms:[],number:"",processes:[]}},methods:{navigate:function(t){this.$router.push(t)},logout:function(){localStorage.removeItem(i),this.$store.commit("setUser",null),this.$router.push({name:"auth"})}},mounted:function(){}},dt=ut,ft=(a("a405"),Object(b["a"])(dt,ct,mt,!1,null,null,null)),vt=ft.exports,bt={name:"Home",components:{PageTitle:vt},computed:Object(m["b"])(["user"]),data:function(){return{}},methods:{navigate:function(t){this.$router.push(t)}},mounted:function(){}},ht=bt,pt=Object(b["a"])(ht,it,lt,!1,null,null,null),gt=pt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rents"},[a("PageTitle",{attrs:{main:"Minhas reservas"}}),a("b-modal",{attrs:{"hide-footer":!0,id:"mymodalconfirm",title:"Cancelar esta reserva agora?"},model:{value:t.modalConfirm,callback:function(e){t.modalConfirm=e},expression:"modalConfirm"}},[a("b-row",[a("b-col",[t._v("\n        Sala:\n        "),a("strong",[t._v(t._s(t.rent.roomName))]),a("br"),t._v("Data:\n        "),a("strong",[t._v(t._s(t._f("moment")(t.rent.date,"DD/MM/YYYY")))]),a("br"),t._v("Hora:\n        "),a("strong",[t._v(t._s(t.rent.hour)+"h")]),a("br"),t._v("Valor:\n        "),a("input",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"},{name:"model",rawName:"v-model",value:t.valueBR,expression:"valueBR"}],staticStyle:{background:"transparent",border:"none",width:"85px"},attrs:{type:"text",readonly:""},domProps:{value:t.valueBR},on:{input:function(e){e.target.composing||(t.valueBR=e.target.value)}}})]),a("b-col",[a("i",{staticClass:"far fa-calendar-times fa-5x",attrs:{"aria-hidden":"true"}})])],1),a("b-row",[a("b-col",[a("hr"),t._v("Ao clicar no botão de confirmação abaixo você efetivará o cancelamento desta reserva. O valor selecionado será creditado de seu saldo.\n        "),a("br"),t._v("Após confirmar, não será possível reativar esta reserva.\n      ")])],1),a("hr"),a("div",{staticClass:"text-center"},[a("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:function(e){t.cancel(t.rent)}}},[t._v("OK, cancelar agora.")]),a("b-button",{on:{click:t.clickModalBtnConfirm}},[t._v("Voltar")])],1)],1),t.totalRows>0?a("div",{staticClass:"text-center"},[t._v("Total de reservas até agora: "+t._s(t.totalRows))]):a("div",{staticClass:"text-center"},[t._v("\n    Você não tem nenhuma reserva.\n    "),a("br"),a("b-button",{attrs:{variant:"link"},on:{click:function(e){t.navigate("/")}}},[t._v("Realizar uma reserva agora.")])],1),t._l(t.rents,function(e){return a("b-card",{key:e._id,staticClass:"mb-2"},[a("div",{staticClass:"rentBox"},[a("b-row",[a("b-col",{attrs:{cols:"2"}},[a("i",{staticClass:"fa fa-clock fa-2x mt-1"})]),a("b-col",{staticClass:"mt-1",attrs:{cols:"6"}},[t._v(t._s(t._f("moment")(e.date,"DD/MM/YYYY")))]),a("b-col",{staticClass:"mt-1 text-right",attrs:{cols:"4"}},[t._v(t._s(e.hour)+"h")])],1)],1),a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("div",{staticClass:"detailsBox"},[a("strong",[t._v("Sala:")]),t._v("\n          "+t._s(e.roomName)+"\n          "),a("br"),a("strong",[t._v("Paciente:")]),t._v("\n          "+t._s(e.patient)+"\n          "),a("br"),a("strong",[t._v("Obs.:")]),t._v("\n          "+t._s(e.obs)+"\n        ")]),a("div",{staticClass:"text-right"},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodalconfirm",expression:"'mymodalconfirm'"}],staticClass:"mt-1 mb-1 mr-1",attrs:{variant:"outline-secondary"},on:{click:function(a){t.chooseRent(e)}}},[t._v("Cancelar esta reserva")])],1)])],1)],1)})],2)},Ct=[],yt={name:"Rents",components:{PageTitle:vt},computed:Object(m["b"])(["user"]),data:function(){return{valueBR:null,money:{decimal:",",thousands:".",prefix:"R$ ",suffix:"",precision:2,masked:!1},totalRows:0,rents:[],rent:{},modalConfirm:!1}},watch:{},methods:{loadRents:function(){var t=this,e="".concat(l,"/rents?user=").concat(this.user._id);q.a.get(e).then(function(e){t.rents=e.data,t.totalRows=t.rents.length})},clickModalBtnConfirm:function(){this.modalConfirm=!1},chooseRent:function(t){this.rent=t,this.valueBR=t.value.toFixed(2)},cancel:function(t){var e=this;q.a.delete("".concat(l,"/rents/").concat(t._id)).then(function(){e.$toasted.global.defaultSuccess({msg:"Reserva cancelada com sucesso."}),e.loadRents(),e.clickModalBtnConfirm()}).catch()},navigate:function(t){this.$router.push(t)}},mounted:function(){this.loadRents()}},kt=yt,xt=(a("8059"),Object(b["a"])(kt,_t,Ct,!1,null,null,null)),wt=xt.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rentByDay"},[a("PageTitle",{attrs:{main:"Pesquisar dia específico"}}),a("b-modal",{attrs:{"hide-footer":!0,id:"mymodalconfirm",title:"Confirma a Reserva?"},model:{value:t.modalConfirm,callback:function(e){t.modalConfirm=e},expression:"modalConfirm"}},[a("b-row",[a("b-col",[t._v("\n        Sala:\n        "),a("strong",[t._v(t._s(t.rent.roomName))]),a("br"),t._v("Data:\n        "),a("strong",[t._v(t._s(t._f("moment")(t.rent.date,"DD/MM/YYYY")))]),a("br"),t._v("Hora:\n        "),a("strong",[t._v(t._s(t.rent.hour)+"h")]),a("br"),t._v("Valor:\n        "),a("input",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"},{name:"model",rawName:"v-model",value:t.valueBR,expression:"valueBR"}],staticStyle:{background:"transparent",border:"none",width:"85px"},attrs:{type:"text",readonly:""},domProps:{value:t.valueBR},on:{input:function(e){e.target.composing||(t.valueBR=e.target.value)}}})]),a("b-col",{staticClass:"box-ico"},[a("i",{staticClass:"far fa-calendar-check fa-5x",attrs:{"aria-hidden":"true"}})])],1),a("b-row",[a("b-col",[a("hr"),t._v("Ao clicar no botão de confirmação abaixo você efetivará essa reserva. O valor selecionado será debitado de seu saldo.\n        "),a("br"),t._v("Após confirmar, o cancelamento será possível em até duas horas antes da hora reservada.\n      ")])],1),a("hr"),a("div",{staticClass:"text-center"},[a("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:t.save}},[t._v("OK, reservar agora!")]),a("b-button",{on:{click:t.clickModalBtnConfirm}},[t._v("Cancelar")])],1)],1),a("b-modal",{attrs:{"hide-footer":!0,id:"mymodal",title:"Reserva de Sala"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("div",{staticClass:"mt-2 mb-3",staticStyle:{"text-align":"center"}},[t._v("\n            Reservando a sala\n            "),a("strong",[t._v(t._s(t.rent.roomName))]),t._v(",\n            "),a("br"),t._v("para\n            "),a("strong",[t._v(t._s(t._f("moment")(t.rent.date,"DD/MM/YYYY")))]),t._v(",\n            às\n            "),a("strong",[t._v(t._s(t.rent.hour)+"h")]),t._v(",\n            "),a("br"),t._v("ao valor de\n            "),a("strong",[a("input",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"},{name:"model",rawName:"v-model",value:t.valueBR,expression:"valueBR"}],staticStyle:{background:"transparent",border:"none",width:"85px"},attrs:{type:"text",readonly:""},domProps:{value:t.valueBR},on:{input:function(e){e.target.composing||(t.valueBR=e.target.value)}}})]),a("hr")]),a("div",[a("b-form-group",{attrs:{label:"Paciente (opcional):","label-for":"rentPatient",description:"Esta informação só será visível para você."}},[a("b-form-input",{ref:"rentPatient",staticClass:"input-text",attrs:{id:"rentPatient"},model:{value:t.rent.patient,callback:function(e){t.$set(t.rent,"patient",e)},expression:"rent.patient"}})],1),a("b-form-group",{attrs:{label:"Observações (opcional):","label-for":"rentObs",description:"Esta informação só será visível para você."}},[a("b-form-textarea",{ref:"rentObs",staticClass:"input-text",attrs:{id:"rentObs"},model:{value:t.rent.obs,callback:function(e){t.$set(t.rent,"obs",e)},expression:"rent.obs"}})],1)],1)])],1),a("div",{staticClass:"text-right"},["save"===t.mode?a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodalconfirm",expression:"'mymodalconfirm'"}],staticClass:"btn-main ml-2",attrs:{variant:"danger"}},[a("i",{staticClass:"fa fa-check fa-lg"}),t._v("\n          Prosseguir\n        ")]):t._e(),"edit"===t.mode?a("b-button",{staticClass:"btn-main ml-2"},[a("i",{staticClass:"fas fa-save fa-lg"}),t._v("\n          Salvar Edição\n        ")]):t._e(),"remove"===t.mode?a("b-button",{staticClass:"ml-2",attrs:{variant:"secondary"},on:{click:t.remove}},[a("i",{staticClass:"far fa-trash-alt fa-lg"}),t._v("\n          Excluir?\n        ")]):t._e(),a("b-button",{staticClass:"ml-2",attrs:{variant:"secondary"},on:{click:function(e){t.clickModalBtn()}}},[t._v("Cancelar")])],1)],1)],1),a("div",{staticStyle:{"text-align":"center"}},[t._m(0),a("b-input",{staticClass:"inputDate",attrs:{id:"date",type:"date"},on:{change:function(e){t.setDate()}},model:{value:t.rent.date,callback:function(e){t.$set(t.rent,"date",e)},expression:"rent.date"}}),a("hr")],1),t.rent.date?a("div",{staticStyle:{"text-align":"center"}},[t._m(1),t._l(t.rooms,function(e){return a("b-button",{key:e._id,staticClass:"mr-1",attrs:{variant:t.getVariant(e._id)},on:{click:function(a){t.setRoom(e)}}},[t._v(t._s(e.name))])}),a("hr")],2):t._e(),a("div",[t.schedule?a("b-table",{staticClass:"mt-3",attrs:{id:"my-table",items:t.schedule,small:"",responsive:"",bordered:"",fields:t.items},scopedSlots:t._u([{key:"hour",fn:function(e){return[t.getStatus(e.item.hour)||!e.item.isActive?a("div",[a("div",{staticStyle:{color:"#bbb"}},[a("strong",[t._v(t._s(e.item.hour))]),a("br"),t._v("(indisponível)\n          ")])]):a("div",[a("div",{staticStyle:{color:"black"}},[a("strong",[t._v(t._s(e.item.hour))]),a("br"),t._v("(disponível)\n          ")])])]}},{key:"actions",fn:function(e){return[t.getStatus(e.item.hour)?a("div",[a("span",{staticStyle:{color:"grey","font-size":".9em","font-weight":"bold"}},[t._v("Reservado")])]):a("div",[e.item.isActive?a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodal",expression:"'mymodal'"}],attrs:{variant:"danger"},on:{click:function(a){t.reserv(e.item.value,e.item.hour)}}},[t._v("Reservar a "+t._s(e.item.value))]):a("span",{staticStyle:{color:"grey","font-size":".9em"}},[t._v("Desativado pelo locatário")])],1)]}}])}):t._e()],1)],1)},Rt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-2"},[a("i",{staticClass:"fas fa-calendar-plus"}),t._v(" Informe abaixo o dia desejado:\n    ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-2"},[a("i",{staticClass:"far fa-building"}),t._v(" Escolha uma sala:\n    ")])}],Pt=(a("a481"),a("6b54"),a("7f7f"),{name:"RentByDay",components:{PageTitle:vt},data:function(){return{valueBR:null,selectedRoom:null,money:{decimal:",",thousands:".",prefix:"R$ ",suffix:"",precision:2,masked:!1},mode:null,rent:{date:null,room:null,roomName:null,value:null,user:null,patient:null,obs:null},modalShow:!1,modalConfirm:!1,rooms:[],schedule:[],items:[]}},methods:{loadRooms:function(){var t=this,e="".concat(l,"/rooms");q.a.get(e).then(function(e){t.rooms=e.data})},setDate:function(){this.schedule=null,this.rent.room=null},setRoom:function(t){var e=this;this.selectedRoom=t,this.rent.room=t._id,this.rent.roomName=t.name;var a="".concat(l,"/rents?room=").concat(t._id,"&date=").concat(this.rent.date);q.a.get(a).then(function(a){e.rents=a.data,e.items=[{key:"hour",label:"Horário",class:"text-center",sortable:!1,thClass:"table-th",tdClass:"table-td"},{key:"actions",label:"Reserva",class:"text-center",sortable:!1,thClass:"table-th",tdClass:"table-td"}],e.schedule=t.schedule})},getStatus:function(t){var e=!1;return this.rents&&this.rents.map(function(a){var o=a.hour;o.toString()===t.toString()&&(e=!0)}),e},clickModalBtn:function(){this.modalShow=!1},clickModalBtnConfirm:function(){this.modalConfirm=!1},formatCurrencyFromRealToMongoNumber:function(t){return t=t.replace("R$","").replace(",","*").replace(/\./,"").replace("*","."),t},reserv:function(t,e){this.mode="save",this.rent.patient=null,this.rent.obs=null,this.rent.value=this.formatCurrencyFromRealToMongoNumber(t),this.rent.hour=e,this.valueBR=this.rent.value},save:function(){var t=this;this.rent.roomName=this.selectedRoom.name,q.a.post("".concat(l,"/rents"),this.rent).then(function(){t.$toasted.global.defaultSuccess({msg:"Reserva efetuada com sucesso."}),t.refresh(),t.setRoom(t.selectedRoom)}).catch()},refresh:function(){this.loadRooms(),this.clickModalBtn(),this.clickModalBtnConfirm()},getVariant:function(t){return t===this.rent.room?"secondary":"outline-secondary"}},mounted:function(){this.refresh()}}),$t=Pt,Nt=(a("3735"),Object(b["a"])($t,St,Rt,!1,null,null,null)),Et=Nt.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rentByWeek"},[a("PageTitle",{attrs:{main:"Pesquisar na semana"}}),a("b-modal",{attrs:{"hide-footer":!0,id:"mymodalconfirm",title:"Confirma a Reserva?"},model:{value:t.modalConfirm,callback:function(e){t.modalConfirm=e},expression:"modalConfirm"}},[a("b-row",[a("b-col",[t._v("\n        Sala:\n        "),a("strong",[t._v(t._s(t.rent.roomName))]),a("br"),t._v("Data:\n        "),a("strong",[t._v(t._s(t._f("moment")(t.rent.date,"DD/MM/YYYY")))]),a("br"),t._v("Hora:\n        "),a("strong",[t._v(t._s(t.rent.hour)+"h")]),a("br"),t._v("Valor:\n        "),a("input",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"},{name:"model",rawName:"v-model",value:t.valueBR,expression:"valueBR"}],staticStyle:{background:"transparent",border:"none",width:"85px"},attrs:{type:"text",readonly:""},domProps:{value:t.valueBR},on:{input:function(e){e.target.composing||(t.valueBR=e.target.value)}}})]),a("b-col",{staticClass:"box-ico"},[a("i",{staticClass:"far fa-calendar-check fa-5x",attrs:{"aria-hidden":"true"}})])],1),a("b-row",[a("b-col",[a("hr"),t._v("Ao clicar no botão de confirmação abaixo você efetivará essa reserva. O valor selecionado será debitado de seu saldo.\n        "),a("br"),t._v("Após confirmar, o cancelamento será possível em até duas horas antes da hora reservada.\n      ")])],1),a("hr"),a("div",{staticClass:"text-center"},[a("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:t.save}},[t._v("OK, reservar agora!")]),a("b-button",{on:{click:t.clickModalBtnConfirm}},[t._v("Cancelar")])],1)],1),a("b-modal",{attrs:{"hide-footer":!0,id:"mymodal",title:"Reserva de Sala"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("b-row",[a("b-col",{attrs:{sm:"12"}},[a("div",{staticClass:"mt-2 mb-3",staticStyle:{"text-align":"center"}},[t._v("\n            Reservando a sala\n            "),a("strong",[t._v(t._s(t.rent.roomName))]),t._v(",\n            "),a("br"),t._v("para\n            "),a("strong",[t._v(t._s(t._f("moment")(t.rent.date,"DD/MM/YYYY")))]),t._v(",\n            às\n            "),a("strong",[t._v(t._s(t.rent.hour)+"h")]),t._v(",\n            "),a("br"),t._v("ao valor de\n            "),a("strong",[a("input",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"},{name:"model",rawName:"v-model",value:t.valueBR,expression:"valueBR"}],staticStyle:{background:"transparent",border:"none",width:"85px"},attrs:{type:"text",readonly:""},domProps:{value:t.valueBR},on:{input:function(e){e.target.composing||(t.valueBR=e.target.value)}}})]),a("hr")]),a("div",[a("b-form-group",{attrs:{label:"Paciente (opcional):","label-for":"rentPatient",description:"Esta informação só será visível para você."}},[a("b-form-input",{ref:"rentPatient",staticClass:"input-text",attrs:{id:"rentPatient"},model:{value:t.rent.patient,callback:function(e){t.$set(t.rent,"patient",e)},expression:"rent.patient"}})],1),a("b-form-group",{attrs:{label:"Observações (opcional):","label-for":"rentObs",description:"Esta informação só será visível para você."}},[a("b-form-textarea",{ref:"rentObs",staticClass:"input-text",attrs:{id:"rentObs"},model:{value:t.rent.obs,callback:function(e){t.$set(t.rent,"obs",e)},expression:"rent.obs"}})],1)],1)])],1),a("div",{staticClass:"text-right"},["save"===t.mode?a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodalconfirm",expression:"'mymodalconfirm'"}],staticClass:"btn-main ml-2",attrs:{variant:"danger"}},[a("i",{staticClass:"fa fa-check fa-lg"}),t._v("\n          Prosseguir\n        ")]):t._e(),"edit"===t.mode?a("b-button",{staticClass:"btn-main ml-2"},[a("i",{staticClass:"fas fa-save fa-lg"}),t._v("\n          Salvar Edição\n        ")]):t._e(),"remove"===t.mode?a("b-button",{staticClass:"ml-2",attrs:{variant:"danger"},on:{click:t.remove}},[a("i",{staticClass:"far fa-trash-alt fa-lg"}),t._v("\n          Excluir?\n        ")]):t._e(),a("b-button",{staticClass:"ml-2",attrs:{variant:"secondary"},on:{click:function(e){t.clickModalBtn()}}},[t._v("Cancelar")])],1)],1)],1),a("div",{staticStyle:{"text-align":"center"}},[t._m(0),t._l(t.rooms,function(e){return a("b-button",{key:e._id,staticClass:"mr-1",attrs:{variant:t.getVariant(e._id)},on:{click:function(a){t.setRoom(e)}}},[t._v(t._s(e.name))])}),t.rentEnabled?a("div",{staticClass:"mt-4 mb-2"},[a("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:function(e){t.previousWeek()}}},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" semana anterior\n      ")]),a("b-button",{staticClass:"ml-2",attrs:{variant:"outline-danger",size:"sm"},on:{click:function(e){t.nextWeek()}}},[t._v("\n        próxima semana\n        "),a("i",{staticClass:"fas fa-arrow-right"})])],1):t._e(),a("div",{staticClass:"container"},[t.rentEnabled?a("div",{staticClass:"tabContainer",attrs:{id:"lista"}},[a("table",[a("thead",[a("tr",{staticStyle:{"background-color":"grey",color:"white","font-size":".9em"}},[a("td",[t._v("[Hr]")]),t._l(t.daysOnWeek,function(e){return a("td",{key:e,staticClass:"tabela-coluna1"},[t.isItToday(e)?a("div",{staticStyle:{color:"white","background-color":"#333"}},[t._v("\n                  "+t._s(t.getWeekDayName(e))+" "),a("br"),t._v("\n                  "+t._s(t._f("moment")(e,"DD"))+" "),a("br"),t._v("\n                  "+t._s(t.getMonthName(e))),a("br"),t._v("\n                  "+t._s(t._f("moment")(e,"YYYY"))+"\n                ")]):a("div",[t._v("\n                  "+t._s(t.getWeekDayName(e))+" "),a("br"),t._v("\n                  "+t._s(t._f("moment")(e,"DD"))+" "),a("br"),t._v("\n                  "+t._s(t.getMonthName(e))),a("br"),t._v("\n                  "+t._s(t._f("moment")(e,"YYYY"))+"\n                ")])])})],2)])]),a("div",{staticClass:"scrollContainer"},[a("table",{attrs:{border:"0"}},[a("tbody",t._l(t.schedule,function(e){return a("tr",{key:e.hour},[a("td",{staticClass:"tabela-coluna0",staticStyle:{"background-color":"grey",color:"white","font-size":".9em"}},[t._v(t._s(e.hour.substring(0,2))+"h")]),t._l(t.daysOnWeek,function(o){return a("td",{key:o,staticClass:"tabela-coluna1"},[t.getStatus(e.hour,o)?a("i",{staticClass:"fa fa-calendar-check fa-2x unavaiable"}):e.isActive?a("i",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodal",expression:"'mymodal'"}],staticClass:"fa fa-calendar-check fa-2x avaiable",on:{click:function(a){t.reserv(e.value,e.hour,o)}}}):a("i",{staticClass:"fa fa-calendar-check fa-2x inactive"}),a("br"),a("div",{staticStyle:{"font-size":".7em"}},[t._v(t._s(e.value))])])})],2)}))])])]):t._e()])],2)],1)},Bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-2"},[a("i",{staticClass:"far fa-building"}),t._v(" Escolha uma sala:\n    ")])}],Ot={name:"RentByWeek",components:{PageTitle:vt},data:function(){return{rentEnabled:!1,today:new Date,daysOnWeek:[],valueBR:null,selectedRoom:null,money:{decimal:",",thousands:".",prefix:"R$ ",suffix:"",precision:2,masked:!1},mode:null,rent:{date:null,room:null,roomName:null,value:null,user:null,patient:null,obs:null},modalShow:!1,modalConfirm:!1,rooms:[],schedule:[],items:[]}},methods:{loadRooms:function(){var t=this,e="".concat(l,"/rooms");q.a.get(e).then(function(e){t.rooms=e.data})},setDate:function(){this.schedule=null,this.rent.room=null},setRoom:function(t){this.daysOnWeek=[],this.selectedRoom=t,this.rent.room=t._id,this.rent.roomName=t.name,this.getWeek(t)},getStatus:function(t,e){var a=!1;return this.rents&&this.rents.map(function(o){var s=o.hour;s.toString()===t.toString()&&e==o.date&&(a=!0)}),a},clickModalBtn:function(){this.modalShow=!1},clickModalBtnConfirm:function(){this.modalConfirm=!1},formatCurrencyFromRealToMongoNumber:function(t){return t=t.replace("R$","").replace(",","*").replace(/\./,"").replace("*","."),t},reserv:function(t,e,a){this.mode="save",this.rent.patient=null,this.rent.obs=null,this.rent.value=this.formatCurrencyFromRealToMongoNumber(t),this.rent.date=a,this.rent.hour=e,this.valueBR=this.rent.value},save:function(){var t=this;this.rent.roomName=this.selectedRoom.name,q.a.post("".concat(l,"/rents"),this.rent).then(function(){t.$toasted.global.defaultSuccess({msg:"Reserva efetuada com sucesso."}),t.setRoom(t.selectedRoom),t.refresh()}).catch()},refresh:function(){this.loadRooms(),this.clickModalBtn(),this.clickModalBtnConfirm()},getVariant:function(t){return t===this.rent.room?"secondary":"outline-secondary"},getWeek:function(t){var e=this,a=this.today,o=a.getDay(),s=null;0==o?s=a:1==o?s=a.setDate(a.getDate()-1):2==o?s=a.setDate(a.getDate()-2):3==o?s=a.setDate(a.getDate()-3):4==o?s=a.setDate(a.getDate()-4):5==o?s=a.setDate(a.getDate()-5):6==o&&(s=a.setDate(a.getDate()-6));for(var n=new Date(s).setDate(new Date(s).getDate()+6),r=new Date(s),i=1;i<8;i++)this.daysOnWeek.push(this.$moment(r).format("YYYY-MM-DD")),r=new Date(r.setDate(r.getDate()+1));s=this.$moment(new Date(s)).format("YYYY-MM-DD"),n=this.$moment(new Date(n)).format("YYYY-MM-DD");var c="".concat(l,"/rents?room=").concat(t._id,"&dates=").concat(this.daysOnWeek);console.log(c),q.a.get(c).then(function(a){e.rents=a.data,e.schedule=t.schedule,e.rentEnabled=!0})},getWeekDayName:function(t){var e="",a=this.$moment(t).format("E");return 7==a&&(e="D"),1==a&&(e="S"),2==a&&(e="T"),3==a&&(e="Q"),4==a&&(e="Q"),5==a&&(e="S"),6==a&&(e="S"),e},getMonthName:function(t){var e="",a=this.$moment(t).format("MM");return 1==a&&(e="Jan"),2==a&&(e="Fev"),3==a&&(e="Mar"),4==a&&(e="Abr"),5==a&&(e="Mai"),6==a&&(e="Jun"),7==a&&(e="Jul"),8==a&&(e="Ago"),9==a&&(e="Set"),10==a&&(e="Out"),11==a&&(e="Nov"),12==a&&(e="Dez"),e},previousWeek:function(){this.today=this.today.setDate(this.today.getDate()-7),this.today=new Date(this.today),this.setRoom(this.selectedRoom),this.refresh()},nextWeek:function(){this.today=this.today.setDate(this.today.getDate()+7),this.today=new Date(this.today),this.setRoom(this.selectedRoom),this.refresh()},isItToday:function(t){var e=new Date;if(t.toString()===this.$moment(e).format("YYYY-MM-DD").toString())return!0}},mounted:function(){this.refresh(),this.getWeek()}},Mt=Ot,At=(a("8d4d"),Object(b["a"])(Mt,Dt,Bt,!1,null,null,null)),Tt=At.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tenant-admin"},[a("AdminTitle",{attrs:{main:"Inquilinos"}}),a("b-modal",{attrs:{size:"lg","hide-footer":!0,id:"mymodal",title:"Cadastro de Inquilino"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submitByKey(e):null}}},[a("b-row",[a("b-col",{staticClass:"box-ico",attrs:{md:"3",sm:"12"}},[a("i",{staticClass:"fa fa-building fa-5x",attrs:{"aria-hidden":"true"}}),a("br"),t._v("Cadastro de Inquilino\n        ")]),a("b-col",{attrs:{md:"9",sm:"12"}},[a("b-form-group",{attrs:{label:"Apelido do Inquilino *","label-for":"tenantAlias"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:3},expression:"{ required: true, min: 3 }"}],ref:"tenantAlias",staticClass:"input-text",attrs:{name:"Apelido",id:"tenantAlias",readonly:"remove"===t.mode},model:{value:t.tenant.alias,callback:function(e){t.$set(t.tenant,"alias",e)},expression:"tenant.alias"}}),t.showSpanError("Apelido")?a("span",{ref:"spnApelido",staticClass:"adm-msg-error"},[t._v(t._s(t.errors.first("Apelido")))]):t._e()],1),a("b-form-group",{attrs:{label:"Nome do Inquilino *","label-for":"tenantName"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:3},expression:"{ required: true, min: 3 }"}],ref:"tenantName",staticClass:"input-text",attrs:{name:"Nome",id:"tenantName",readonly:"remove"===t.mode},model:{value:t.tenant.name,callback:function(e){t.$set(t.tenant,"name",e)},expression:"tenant.name"}}),t.showSpanError("Nome")?a("span",{ref:"spnNome",staticClass:"adm-msg-error"},[t._v(t._s(t.errors.first("Nome")))]):t._e()],1)],1)],1),a("div",{staticClass:"text-right"},["save"===t.mode?a("b-button",{staticClass:"btn-main ml-2",on:{click:t.save}},[a("i",{staticClass:"fa fa-send fa-lg"}),t._v("\n          Inserir\n        ")]):t._e(),"edit"===t.mode?a("b-button",{staticClass:"btn-main ml-2",on:{click:t.save}},[a("i",{staticClass:"fas fa-save fa-lg"}),t._v("\n          Salvar Edição\n        ")]):t._e(),"remove"===t.mode?a("b-button",{staticClass:"ml-2",attrs:{variant:"danger"},on:{click:t.remove}},[a("i",{staticClass:"far fa-trash-alt fa-lg"}),t._v("\n          Excluir?\n        ")]):t._e(),a("b-button",{staticClass:"ml-2",attrs:{variant:"secondary"},on:{click:function(e){t.clickModalBtn()}}},[t._v("Cancelar")])],1)],1)],1),a("div",[a("b-row",[a("b-col",{attrs:{md:"4"}},[a("div",{staticStyle:{"text-align":"left"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodal",expression:"'mymodal'"}],staticClass:"mb-2 mr-2",attrs:{variant:"link",size:"sm"},on:{click:t.clearForm}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Incluir Inqulino\n          ")])],1)]),a("b-col",{attrs:{md:"4"}},[a("div",{staticClass:"titulo"},[t._v("Cadastro de Inquilinos")])]),a("b-col",{attrs:{md:"4"}})],1),a("div",{staticClass:"layer-total"},[a("i",{staticClass:"fas fa-building mr-2"}),t._v("\n      "+t._s(t.totalRows)+" registro(s)\n    ")]),a("b-table",{attrs:{id:"my-table",items:t.tenants,"per-page":t.perPage,"current-page":t.currentPage,small:"",responsive:"",bordered:"",stacked:"",filter:t.filter,fields:t.items},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"created_at",fn:function(e){return[t._v(t._s(t._f("moment")(e.item.created_at,"DD/MM/YYYY hh:mm")))]}},{key:"actions",fn:function(e){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodal",expression:"'mymodal'"}],attrs:{size:"sm"},on:{click:function(a){t.loadResource(e.item,"edit")}}},[a("i",{staticClass:"fas fa-pen-square",attrs:{title:"Editar o registro."}})]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodal",expression:"'mymodal'"}],staticClass:"ml-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){t.loadResource(e.item,"remove")}}},[a("i",{staticClass:"far fa-trash-alt",attrs:{title:"Excluir o registro."}})])]}}])})],1),a("b-row",[a("b-col",[a("b-pagination",{attrs:{small:"",align:"right","total-rows":t.totalRows,"per-page":t.perPage,"aria-controls":"my-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},qt=[],jt=(a("20d6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header pb-2 mb-2"},[t.user?a("b-navbar",{staticClass:"header-nav",attrs:{fixed:"",toggleable:"lg",type:"dark"}},[a("b-navbar-brand",{staticClass:"header-title",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-arrow-left fa-lg mr-1",on:{click:function(e){t.navigate("/admin")}}}),t._v("\n      "+t._s(t.main)+"\n    ")])],1):t._e()],1)}),It=[],Ut={name:"PageTitle",props:["main"],computed:Object(m["b"])(["user"]),data:function(){return{rooms:[],number:"",processes:[]}},methods:{navigate:function(t){this.$router.push(t)},logout:function(){localStorage.removeItem(i),this.$store.commit("setUser",null),this.$router.push({name:"auth"})}},mounted:function(){}},zt=Ut,Ft=(a("e1a8"),Object(b["a"])(zt,jt,It,!1,null,null,null)),Wt=Ft.exports,Lt={name:"tenantAdmin",components:{AdminTitle:Wt},data:function(){return{modalShow:!1,mode:"save",tenants:[],tenant:{},totalRows:1,filter:null,currentPage:1,perPage:7,pageOptions:[5,10,15],options:[],items:[{key:"alias",label:"Apelido:",sortable:!0,thClass:"table-th-first",tdClass:"table-td-first"},{key:"name",label:"Nome:",sortable:!0,thClass:"table-th",tdClass:"table-td"},{key:"created_at",label:"Cadastro:",sortable:!0,thClass:"table-th",tdClass:"table-td"},{key:"actions",label:"Ações:",sortable:!1,class:"text-left",thClass:"table-th",tdClass:"table-td"}]}},methods:{clickModalBtn:function(){this.modalShow=!1},loadResources:function(){var t=this,e="".concat(l,"/tenants");q.a.get(e).then(function(e){t.tenants=e.data,t.totalRows=e.data.length})},loadResource:function(t,e){var a=this;this.mode=e;var o="".concat(l,"/tenants/").concat(t._id);q.a.get(o).then(function(t){a.tenant=t.data})},save:function(){var t=this,e=this.tenant._id?"patch":"post",a=this.tenant._id?"/".concat(this.tenant._id):"";this.$validator.validateAll().then(function(o){o&&q.a[e]("".concat(l,"/tenants").concat(a),t.tenant).then(function(){t.refresh()}).catch()})},remove:function(){var t=this,e=this.tenant._id;q.a.delete("".concat(l,"/tenants/").concat(e)).then(function(){t.refresh()}).catch(c)},showSpanError:function(t){var e=this.errors.items,a=e.findIndex(function(e){return e.field==t});return!(a<0)},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},refresh:function(){switch(this.mode){case"save":this.$toasted.global.defaultSuccess({msg:"Registro inserido com sucesso. ".concat(this.totalRows+1," registro(s) até agora.")});break;case"edit":this.$toasted.global.defaultSuccess({msg:"Registro editado com sucesso."});break;case"remove":this.$toasted.global.defaultSuccess({msg:"Registro excluído do sistema com sucesso."});break}this.clearForm()},clearForm:function(){this.clickModalBtn(),this.loadResources(),this.tenant={},this.mode="save"},submitByKey:function(){"save"===this.mode||"edit"===this.mode?this.save():"remove"===this.mode&&this.remove()}},mounted:function(){this.mode||(this.mode="save"),this.loadResources()}},Vt=Lt,Ht=Object(b["a"])(Vt,Yt,qt,!1,null,null,null),Kt=Ht.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tenant-admin"},[a("AdminTitle",{attrs:{main:"Usuários"}}),a("b-modal",{attrs:{size:"lg","hide-footer":!0,id:"mymodal",title:"Cadastro de Usuário"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submitByKey(e):null}}},[a("b-row",[a("b-col",{attrs:{md:"12",sm:"12"}},[a("b-card",{staticClass:"mb-2 box-out"},[a("b-row",[a("b-col",{staticClass:"box-ico",attrs:{md:"3",sm:"12"}},[a("i",{staticClass:"fa fa-users fa-5x",attrs:{"aria-hidden":"true"}}),a("br"),t._v("Dados Cadastrais\n              ")]),a("b-col",{attrs:{md:"9",sm:"12"}},[a("b-form-group",{attrs:{label:"Nome *","label-for":"userName"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:3},expression:"{ required: true, min: 3 }"}],ref:"userName",staticClass:"input-text",attrs:{name:"Nome",id:"userName",readonly:"remove"===t.mode},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),t.showSpanError("Nome")?a("span",{ref:"spnNome",staticClass:"adm-msg-error"},[t._v(t._s(t.errors.first("Nome")))]):t._e()],1),a("b-form-group",{attrs:{label:"E-mail *","label-for":"user-email"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"input-text",attrs:{prepend:"@",name:"E-mail",id:"user-email",readonly:"remove"===t.mode},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),t.showSpanError("E-mail")?a("span",{staticClass:"adm-msg-error"},[t._v(t._s(t.errors.first("E-mail")))]):t._e()],1)],1)],1)],1)],1),a("b-col",{attrs:{md:"12",sm:"12"}},[a("b-card",{staticClass:"mb-3 box-out"},[a("b-row",[a("b-col",{staticClass:"box-ico",attrs:{md:"3",sm:"12"}},[a("i",{staticClass:"fas fa-key fa-5x",attrs:{"aria-hidden":"true"}}),a("br"),t._v("Permissões\n              ")]),t.isAMasterUser()?a("b-col",{attrs:{md:"8",sm:"12"}},[a("b-row",[a("b-col",[a("div",[t._v("Usuário pertencente à empresa:")]),a("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],ref:"inquilino",attrs:{name:"Inquilino",id:"inquilino",disabled:"remove"===t.mode},on:{change:function(e){t.loadRooms(e)}},model:{value:t.user.tenant,callback:function(e){t.$set(t.user,"tenant",e)},expression:"user.tenant"}},t._l(t.tenants,function(e){return a("option",{key:e._id,domProps:{value:e._id}},[t._v(t._s(e.alias))])})),t.showSpanError("Inquilino")?a("span",{staticClass:"adm-msg-error"},[t._v(t._s(t.errors.first("Inquilino")))]):t._e(),a("hr")],1)],1),a("b-row",[a("b-col",[a("b-form-group",{attrs:{label:"Perfil de acesso:","label-for":"user-profiles"}},[a("b-form-checkbox-group",{attrs:{stacked:"",id:"user-profiles",name:"profiles"},model:{value:t.user.profiles,callback:function(e){t.$set(t.user,"profiles",e)},expression:"user.profiles"}},[a("b-form-checkbox",{attrs:{disabled:"",value:"user"}},[t._v("user")]),t._l(t.profiles,function(e){return a("b-form-checkbox",{key:e.name,attrs:{disabled:"remove"===t.mode,value:e.name}},[t._v(t._s(e.name))])})],2)],1)],1)],1)],1):t._e()],1)],1)],1)],1),a("div",{staticClass:"text-right"},["save"===t.mode?a("b-button",{staticClass:"btn-main ml-2",on:{click:t.save}},[a("i",{staticClass:"fa fa-send fa-lg"}),t._v("\n          Inserir\n        ")]):t._e(),"edit"===t.mode?a("b-button",{staticClass:"btn-main ml-2",on:{click:t.save}},[a("i",{staticClass:"fas fa-save fa-lg"}),t._v("\n          Salvar Edição\n        ")]):t._e(),"remove"===t.mode?a("b-button",{staticClass:"ml-2",attrs:{variant:"danger"},on:{click:t.remove}},[a("i",{staticClass:"far fa-trash-alt fa-lg"}),t._v("\n          Excluir?\n        ")]):t._e(),a("b-button",{staticClass:"ml-2",attrs:{variant:"secondary"},on:{click:function(e){t.clickModalBtn()}}},[t._v("Cancelar")])],1)],1)],1),a("div",[a("b-row",[a("b-col",{attrs:{md:"4"}},[a("div",{staticStyle:{"text-align":"left"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodal",expression:"'mymodal'"}],staticClass:"mb-2 mr-2",attrs:{variant:"link"},on:{click:t.firstForm}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Incluir Usuário\n          ")])],1)]),a("b-col",{attrs:{md:"4"}},[a("div",{staticClass:"titulo"},[t._v("Cadastro de Usuários")])]),a("b-col",{attrs:{md:"4"}})],1),a("div",{staticClass:"layer-total"},[a("i",{staticClass:"fas fa-users mr-2"}),t._v("\n      "+t._s(t.totalRows)+" registro(s)\n    ")]),a("b-table",{attrs:{id:"my-table",items:t.users,"per-page":t.perPage,"current-page":t.currentPage,responsive:"",bordered:"",stacked:"",small:"",fields:t.items},scopedSlots:t._u([{key:"tenantDetails",fn:function(e){return t._l(e.item.tenantDetails,function(o,s){return a("div",{key:o.id,attrs:{index:s}},[t._v(t._s(e.item.tenantDetails[s].alias))])})}},{key:"actions",fn:function(e){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodal",expression:"'mymodal'"}],on:{click:function(a){t.loadResource(e.item,"edit")}}},[a("i",{staticClass:"fas fa-pen-square",attrs:{title:"Editar o registro."}}),t._v(" Editar\n        ")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodal",expression:"'mymodal'"}],staticClass:"ml-1",attrs:{variant:"danger"},on:{click:function(a){t.loadResource(e.item,"remove")}}},[a("i",{staticClass:"far fa-trash-alt",attrs:{title:"Excluir o registro."}}),t._v(" Excluir\n        ")])]}}])})],1),a("b-row",[a("b-col",[a("b-pagination",{attrs:{small:"",align:"right","total-rows":t.totalRows,"per-page":t.perPage,"aria-controls":"my-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},Qt=[],Gt={name:"UserAdmin",components:{AdminTitle:Wt},data:function(){return{profilesLoggedUser:[],modalShow:!1,btnCancelDisabled:!1,mode:"save",rooms:[],tenants:[],profiles:[],user:{profiles:["user"]},totalRows:1,currentPage:1,perPage:7,pageOptions:[5,10,15],options:[],users:[],items:[{key:"name",label:"Usuário:",sortable:!0,class:"text-left",thClass:"table-th-first",tdClass:"table-td-first"},{key:"email",label:"E-mail:",sortable:!0,class:"text-left",thClass:"table-th",tdClass:"table-td"},{key:"actions",label:"",sortable:!1,class:"text-center",thClass:"table-th",tdClass:"table-td"}]}},methods:{clickModalBtn:function(){this.modalShow=!1},loadTenants:function(){var t=this,e="".concat(l,"/tenants");q.a.get(e).then(function(e){t.tenants=e.data,1===t.tenants.length&&(t.loadRooms(t.tenants[0]._id),t.user.tenant=t.tenants[0]._id)})},loadRooms:function(t){var e=this,a="".concat(l,"/rooms?tenant=").concat(t);q.a.get(a).then(function(t){e.rooms=t.data})},loadResource:function(t,e){var a=this;this.mode=e;var o="".concat(l,"/users/").concat(t._id);q.a.get(o).then(function(t){a.user=t.data,a.loadRooms(a.user.tenant)})},save:function(){var t=this,e=this.user._id?"patch":"post",a=this.user._id?"/".concat(this.user._id):"";if("save"===this.mode){var o=Math.floor(99999999*Math.random());this.user.password=o}this.$validator.validateAll().then(function(o){o&&q.a[e]("".concat(l,"/users").concat(a),t.user).then(function(){t.refresh()}).catch()})},remove:function(){var t=this,e=this.user._id;q.a.delete("".concat(l,"/users/").concat(e)).then(function(){t.refresh()}).catch(c)},showSpanError:function(t){var e=this.errors.items,a=e.findIndex(function(e){return e.field==t});return!(a<0)},loadResources:function(){var t=this,e="".concat(l,"/users");q.a.get(e).then(function(e){t.users=e.data,t.totalRows=e.data.length})},refresh:function(){switch(this.mode){case"save":this.$toasted.global.defaultSuccess({msg:"Registro inserido com sucesso. ".concat(this.totalRows+1," registro(s) até agora.")});break;case"edit":this.$toasted.global.defaultSuccess({msg:"Registro editado com sucesso."});break;case"remove":this.$toasted.global.defaultSuccess({msg:"Registro excluído do sistema com sucesso."});break}this.firstForm()},submitByKey:function(){"save"===this.mode||"edit"===this.mode?this.save():"remove"===this.mode&&this.remove()},firstForm:function(){this.clickModalBtn(),this.mode="save",this.loadTenants(),this.loadResources(),this.getProfilesLoggedUser(),-1!=this.profilesLoggedUser.indexOf("master")?this.profiles=[{name:"admin"}]:this.profiles=[],this.user={profiles:["user"]}},getProfilesLoggedUser:function(){var t=JSON.parse(localStorage.getItem(i));this.profilesLoggedUser=t.profiles},isAMasterUser:function(){return-1!=this.profilesLoggedUser.indexOf("master")}},mounted:function(){this.firstForm()}},Xt=Gt,Zt=Object(b["a"])(Xt,Jt,Qt,!1,null,null,null),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"room-admin"},[a("AdminTitle",{attrs:{main:"Salas"}}),a("b-modal",{attrs:{size:"lg","hide-footer":!0,id:"mymodal",title:"Cadastro de Sala"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submitByKey(e):null}}},[a("b-row",[a("b-col",{staticClass:"box-ico",attrs:{md:"3",sm:"12"}},[a("i",{staticClass:"far fa-building fa-5x",attrs:{"aria-hidden":"true"}}),a("br"),t._v("Cadastro de Sala\n          "),a("br")]),a("b-col",{attrs:{md:"9",sm:"12"}},[a("b-form-group",{attrs:{label:"Nome da Sala *","label-for":"roomName"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:3},expression:"{ required: true, min: 3 }"}],ref:"roomName",staticClass:"input-text",attrs:{name:"Nome",id:"roomName",readonly:"remove"===t.mode},model:{value:t.room.name,callback:function(e){t.$set(t.room,"name",e)},expression:"room.name"}}),t.showSpanError("Nome")?a("span",{ref:"spnNome",staticClass:"adm-msg-error"},[t._v(t._s(t.errors.first("Nome")))]):t._e()],1),a("hr"),a("div",[t._v("Valor da locação por horário:")]),t._l(t.room.schedule,function(e){return a("div",{key:e.hour,staticClass:"text-left mt-2 mb-2"},[t._v("\n            "+t._s(e.hour)+" -\n            "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"schedule.value"},{name:"money",rawName:"v-money",value:t.money,expression:"money"}],attrs:{readonly:"remove"===t.mode},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}}),t._v("\n             \n            "),a("InputSwitch",{model:{value:e.isActive,callback:function(a){t.$set(e,"isActive",a)},expression:"schedule.isActive"}}),e.isActive?a("span",[t._v("Ativo")]):a("span",[t._v("Inativo")]),a("hr")],1)}),a("hr"),a("b-form-checkbox",{attrs:{name:"isActive"},model:{value:t.room.isActive,callback:function(e){t.$set(t.room,"isActive",e)},expression:"room.isActive"}},[t._v("Marcar esta sala como ativa para locação")]),a("hr")],2)],1),a("br"),a("div",{staticClass:"text-right"},["save"===t.mode?a("b-button",{staticClass:"btn-main ml-2",on:{click:t.save}},[a("i",{staticClass:"fa fa-send fa-lg"}),t._v("\n          Inserir\n        ")]):t._e(),"edit"===t.mode?a("b-button",{staticClass:"btn-main ml-2",on:{click:t.save}},[a("i",{staticClass:"fas fa-save fa-lg"}),t._v("\n          Salvar Edição\n        ")]):t._e(),"remove"===t.mode?a("b-button",{staticClass:"ml-2",attrs:{variant:"danger"},on:{click:t.remove}},[a("i",{staticClass:"far fa-trash-alt fa-lg"}),t._v("\n          Excluir?\n        ")]):t._e(),a("b-button",{staticClass:"ml-2",attrs:{variant:"secondary"},on:{click:function(e){t.clickModalBtn()}}},[t._v("Cancelar")])],1)],1)],1),a("div",[a("b-row",[a("b-col",{attrs:{md:"4"}},[a("div",{staticStyle:{"text-align":"left"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodal",expression:"'mymodal'"}],staticClass:"mb-2 mr-2",attrs:{variant:"link"},on:{click:t.clearForm}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Incluir Sala\n          ")])],1)]),a("b-col",{attrs:{md:"4"}},[a("div",{staticClass:"titulo"},[t._v("Cadastro de Salas")])]),a("b-col",{attrs:{md:"4"}})],1),a("div",{staticClass:"layer-total"},[a("i",{staticClass:"far fa-building mr-2"}),t._v("\n      "+t._s(t.totalRows)+" registro(s)\n    ")]),a("b-table",{attrs:{id:"my-table",items:t.rooms,"per-page":t.perPage,"current-page":t.currentPage,small:"",stacked:"",responsive:"",bordered:"",fields:t.items},scopedSlots:t._u([{key:"actions",fn:function(e){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodal",expression:"'mymodal'"}],on:{click:function(a){t.loadResource(e.item,"edit")}}},[a("i",{staticClass:"fas fa-pen-square",attrs:{title:"Editar o registro."}}),t._v(" Editar\n        ")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodal",expression:"'mymodal'"}],staticClass:"ml-1",attrs:{variant:"danger"},on:{click:function(a){t.loadResource(e.item,"remove")}}},[a("i",{staticClass:"far fa-trash-alt",attrs:{title:"Excluir o registro."}}),t._v(" Excluir\n        ")])]}},{key:"isActive",fn:function(e){return[e.item.isActive?a("div",[t._v("Ativa para locação")]):a("div",[t._v("Inativa para locação")])]}}])})],1),a("b-row",[a("b-col",[a("b-pagination",{attrs:{small:"",align:"right","total-rows":t.totalRows,"per-page":t.perPage,"aria-controls":"my-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},ae=[],oe=a("716b"),se=a.n(oe),ne={name:"roomAdmin",components:{AdminTitle:Wt,Money:oe["Money"]},data:function(){return{money:{decimal:",",thousands:".",prefix:"R$ ",suffix:"",precision:2,masked:!1},schedule:[],itemsSchedule:[],modalShow:!1,mode:"save",rooms:[],room:{isActive:!0},totalRows:1,currentPage:1,perPage:7,pageOptions:[5,10,15],options:[],items:[{key:"name",label:"Sala:",sortable:!0,class:"text-left",thClass:"table-th-first",tdClass:"table-td-first"},{key:"isActive",label:"Status:",sortable:!0,class:"text-left",thClass:"table-th",tdClass:"table-td"},{key:"actions",label:"",sortable:!1,class:"text-center",thClass:"table-th",tdClass:"table-td"}]}},methods:{clickModalBtn:function(){this.modalShow=!1},loadResources:function(){var t=this,e="".concat(l,"/rooms");q.a.get(e).then(function(e){t.rooms=e.data,t.totalRows=e.data.length})},loadResource:function(t,e){var a=this;this.mode=e;var o="".concat(l,"/rooms/").concat(t._id);q.a.get(o).then(function(t){a.room=t.data})},save:function(){var t=this,e=this.room._id?"patch":"post",a=this.room._id?"/".concat(this.room._id):"";this.$validator.validateAll().then(function(o){o&&q.a[e]("".concat(l,"/rooms").concat(a),t.room).then(function(){t.refresh()}).catch()})},remove:function(){var t=this,e=this.room._id;q.a.delete("".concat(l,"/rooms/").concat(e)).then(function(){t.refresh()}).catch(c)},showSpanError:function(t){var e=this.errors.items,a=e.findIndex(function(e){return e.field==t});return!(a<0)},refresh:function(){switch(this.mode){case"save":this.$toasted.global.defaultSuccess({msg:"Registro inserido com sucesso. ".concat(this.totalRows+1," registro(s) até agora.")});break;case"edit":this.$toasted.global.defaultSuccess({msg:"Registro editado com sucesso."});break;case"remove":this.$toasted.global.defaultSuccess({msg:"Registro excluído do sistema com sucesso."});break}this.clearForm()},clearForm:function(){this.clickModalBtn(),this.loadResources(),this.schedule=[];for(var t=6;t<23;t++){var e="";e=t<10?"0"+t+":00":t+":00",this.schedule.push({hour:e,value:2500,isActive:!0})}this.room={isActive:!0,schedule:this.schedule},this.mode="save"},submitByKey:function(){"save"===this.mode||"edit"===this.mode?this.save():"remove"===this.mode&&this.remove()},setMode:function(t){this.mode||(this.mode=t)}},mounted:function(){this.setMode("save"),this.loadResources()}},re=ne,ie=Object(b["a"])(re,ee,ae,!1,null,null,null),le=ie.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tenant-admin"},[a("PageTitle",{attrs:{main:"balances"}}),a("div",[a("b-row",[a("b-col",{attrs:{md:"4"}},[a("div",{staticStyle:{"text-align":"left"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodal",expression:"'mymodal'"}],staticClass:"mb-2 mr-2",attrs:{variant:"link"}})],1)]),a("b-col",{attrs:{md:"4"}},[a("div",{staticClass:"titulo"},[t._v("Listas de saldos")])]),a("b-col",{attrs:{md:"4"}})],1),a("div",{staticClass:"layer-total"},[a("i",{staticClass:"fas fa-hand-holding-usd mr-2"}),t._v("\n      "+t._s(t.totalRows)+" registro(s)\n    ")]),a("b-table",{attrs:{id:"my-table",items:t.balances,"per-page":t.perPage,"curbalance-page":t.curbalancePage,responsive:"",small:"",stacked:"",fields:t.items}})],1),a("b-row",[a("b-col",[a("b-pagination",{attrs:{small:"",align:"right","total-rows":t.totalRows,"per-page":t.perPage,"aria-controls":"my-table"},model:{value:t.curbalancePage,callback:function(e){t.curbalancePage=e},expression:"curbalancePage"}})],1)],1)],1)},me=[],ue={name:"BalanceAdmin",components:{PageTitle:vt},data:function(){return{balances:[],totalRows:1,curbalancePage:1,perPage:7,pageOptions:[5,10,15],options:[],items:[{key:"date",label:"Data:",sortable:!0,class:"text-left",thClass:"table-th-first",tdClass:"table-td-first"},{key:"value",label:"Valor:",sortable:!0,class:"text-left",thClass:"table-th",tdClass:"table-td"}]}},methods:{loadBalances:function(){var t=this,e="".concat(l,"/balances");q.a.get(e).then(function(e){t.balances=e.data,t.totalRows=t.balances.length})}},mounted:function(){this.loadBalances()}},de=ue,fe=Object(b["a"])(de,ce,me,!1,null,null,null),ve=fe.exports,be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth-content",on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submitByKey(e):null}}},[a("div",[t._m(0),a("hr"),t.forgotPass?t._e():a("div",{staticClass:"text-center"},[a("div",{staticClass:"auth-title"}),t._m(1),a("b-input-group",{staticClass:"mb-2"},[a("b-input-group-prepend",[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-at fa-lg"})])]),a("b-form-input",{attrs:{type:"text",placeholder:"E-mail"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),a("b-input-group",{staticClass:"mb-3"},[a("b-input-group-prepend",[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-lock fa-lg"})])]),a("b-form-input",{attrs:{type:"password",placeholder:"Senha"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),a("b-button",{staticClass:"mb-3",attrs:{block:"",variant:"danger"},on:{click:t.signin}},[t._v("Entrar")]),a("b-button",{staticClass:"mb-3",attrs:{block:"",variant:"info"},on:{click:function(e){t.forgotPass=!0}}},[t._v("Esqueci a Senha")])],1),t.forgotPass?a("div",{staticClass:"text-center"},[t.forgotPass?a("div",{staticClass:"mb-2",staticStyle:{color:"#333"}},[t._v("\n        Redefinir senha.\n        "),a("br"),t._v("Informe seu e-mail:\n      ")]):t._e(),a("b-input-group",{staticClass:"mb-2"},[a("b-input-group-prepend",[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-at fa-lg"})])]),a("b-form-input",{attrs:{type:"text",placeholder:"E-mail"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),a("div",{class:t.lblClass},[t._v(t._s(t.txtLabel))]),a("div",{staticClass:"mt-3"},[a("b-button",{staticClass:"mb-3",attrs:{block:"",variant:"dark"},on:{click:t.forgot}},[t._v(t._s(t.txtButton))])],1),a("div",[a("b-button",{staticClass:"mb-3",attrs:{block:"",variant:"info"},on:{click:function(e){t.forgotPass=!1}}},[t._v("Voltar ao login")])],1)],1):t._e()])])},he=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("span",{staticClass:"auth-logo",staticStyle:{color:"crimson"}},[a("i",{staticClass:"fa fa-door-open fa-lg"}),t._v(" SalaSol\n      ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-2",staticStyle:{color:"#333"}},[t._v("\n        Login\n        "),a("br"),t._v("Informe seus dados de acesso:\n      ")])}],pe={name:"Auth",data:function(){return{user:{},forgotPass:!1,queryEmail:"",txtButton:"Redefinir Senha",txtLabel:"",lblClass:""}},methods:{signin:function(){var t=this;q.a.post("".concat(l,"/users/authenticate"),this.user).then(function(e){t.$store.commit("setUser",e.data),localStorage.setItem(i,JSON.stringify(e.data)),t.$router.push({path:"/"}),t.$toasted.global.defaultSuccess({msg:"Bem-vindo, ".concat(e.data.name,".")})}).catch(function(t){t&&c("Credenciais inválidas.")})},forgot:function(){var t=this;this.txtButton="Enviando...";var e=this.user.email,a="".concat(l,"/users/forgotpass/").concat(e,"/localhost:8081");q.a.get(a).then(function(){t.txtLabel="E-mail enviado. Consulte sua caixa de mensagens.",t.txtButton="Redefinir",t.lblClass="lblSuccess"}).catch(function(e){t.txtLabel="Ocorreu um erro ao tentar eviar o e-mail: ".concat(e.response.data.message),t.txtButton="Tentar novamente",t.lblClass="lblErr"})},submitByKey:function(){this.forgotPass?this.forgot():this.signin()}},mounted:function(){this.$route.query.email&&(this.forgotPass=!0,this.email=this.$route.query.email,this.user.email=this.$route.query.email)}},ge=pe,_e=(a("ee68"),Object(b["a"])(ge,be,he,!1,null,null,null)),Ce=_e.exports,ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profile"},[a("PageTitle",{attrs:{main:"Meu perfil"}}),a("b-modal",{attrs:{"hide-footer":!0,id:"mymodalconfirm",title:"Confirma o logout?"},model:{value:t.modalConfirm,callback:function(e){t.modalConfirm=e},expression:"modalConfirm"}},[a("b-row",[a("b-col",[t._v("Finalizar a sessão?")])],1),a("hr"),a("div",{staticClass:"text-center"},[a("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:t.logout}},[t._v("Sim")]),a("b-button",{on:{click:t.clickModalBtnConfirm}},[t._v("Cancelar")])],1)],1),a("b-row",[a("b-col",[a("b-card",[a("div",[a("div",{staticClass:"box"},[t._v("Perfil de Usuário")])]),a("div",[a("i",{staticClass:"fa fa-user mr-1"}),t._v("\n          "+t._s(t.user.name)+"\n        ")]),a("div",[a("i",{staticClass:"fa fa-at mr-1"}),t._v("\n          "+t._s(t.user.email)+"\n        ")]),a("div",[a("i",{staticClass:"fa fa-building mr-1"}),t._v("\n          "+t._s(t.user.tenantAlias)+"\n        ")]),a("div",[a("i",{staticClass:"fa fa-id-badge mr-1"}),t._v("\n          "+t._s(t.user.profiles)+"\n        ")]),a("hr"),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"mymodalconfirm",expression:"'mymodalconfirm'"}],staticClass:"ml-2",attrs:{variant:"danger"}},[a("i",{staticClass:"fa fa-times-circle fa-lg"}),t._v(" Sair\n        ")])],1)],1),a("b-col",[a("b-card",[a("div",[a("div",{staticClass:"box"},[t._v("Troca de Senha")])]),a("p",[t._v("\n          Ao clicar no botão abaixo, você será redirecionado à área de reconfiguração de senha.\n          "),a("br"),t._v("Um e-mail será encaminhado ao seu endereço, contendo o link para a tela de alteração.\n          "),a("br"),t._v("A senha atual não sofrerá nenhuma mudança até que a troca seja confirmada no final do procedimento.\n          "),a("br"),t._v("Por motivo de segurança, esta sessão será finalizada. Certifique-se de já ter salvo os seus trabalhos.\n        ")]),a("div",[a("b-button",{attrs:{variant:"danger"},on:{click:function(e){t.goToChangePass()}}},[t._v("Ok, iniciar a reconfiguração agora.")])],1)])],1)],1)],1)},ke=[],xe={name:"Profile",data:function(){return{modalConfirm:!1}},computed:Object(m["b"])(["user"]),components:{PageTitle:vt},methods:{goToChangePass:function(){var t=this.user.email;localStorage.removeItem(i),this.$store.commit("setUser",null),this.$router.push("/auth?email=".concat(t))},logout:function(){localStorage.removeItem(i),this.$store.commit("setUser",null),this.$router.push({name:"auth"})},clickModalBtnConfirm:function(){this.modalConfirm=!1}}},we=xe,Se=(a("0146"),Object(b["a"])(we,ye,ke,!1,null,null,null)),Re=Se.exports;o["default"].use(z["a"]);var Pe=[{name:"home",path:"/",component:tt},{name:"contract",path:"/contract",component:rt},{name:"admin",path:"/admin",component:gt},{name:"rents",path:"/rents",component:wt},{name:"rentbyday",path:"/rentbyday",component:Et},{name:"rentbyweek",path:"/rentbyweek",component:Tt},{name:"auth",path:"/auth/:email?",component:Ce},{name:"profile",path:"/admin/users/profile",component:Re},{name:"tenantAdmin",path:"/admin/tenants",component:Kt,meta:{requiresAdmin:!0}},{name:"userAdmin",path:"/admin/users",component:te,meta:{requiresAdmin:!0}},{name:"RoomAdmin",path:"/admin/rooms",component:le,meta:{requiresAdmin:!0}},{name:"BalanceAdmin",path:"/admin/balances",component:ve,meta:{requiresAdmin:!0}}],$e=new z["a"]({mode:"history",routes:Pe}),Ne=$e,Ee=a("7bb1"),De=a("229e"),Be=a.n(De),Oe=a("d8c5"),Me=a.n(Oe),Ae=a("3a60"),Te=a.n(Ae),Ye=a("a84a"),qe=a.n(Ye),je=a("6549"),Ie=a.n(je),Ue=a("9cbd"),ze=a.n(Ue),Fe=a("85c3"),We=a.n(Fe),Le=a("a7bd"),Ve=a.n(Le),He=a("51e4"),Ke=a.n(He),Je=a("0f4f"),Qe=a.n(Je),Ge=a("86b0"),Xe=a.n(Ge),Ze=a("299a"),ta=a.n(Ze),ea=(a("8bf4"),a("e1ae"),a("4121"),a("859b"));a("d355");o["default"].use(se.a,{precision:4}),o["default"].component("InputText",qe.a),o["default"].component("Button",Ie.a),o["default"].component("Menu",ze.a),o["default"].component("Fieldset",We.a),o["default"].component("Accordion",Ve.a),o["default"].component("AccordionTab",Ke.a),o["default"].component("OverlayPanel",Qe.a),o["default"].component("MultiSelect",Xe.a),o["default"].component("InputSwitch",ta.a),o["default"].use(a("2ead")),o["default"].use(Te.a),o["default"].use(Me.a),o["default"].component("datetime",ea["Datetime"]),o["default"].use(Ee["a"],{fieldsBagName:"formFields",locale:"pt_BR",dictionary:{pt_BR:Be.a}}),o["default"].config.productionTip=!1,new o["default"]({store:U,router:Ne,render:function(t){return t(O)}}).$mount("#app")},"64a9":function(t,e,a){},8059:function(t,e,a){"use strict";var o=a("0443"),s=a.n(o);s.a},"8d4d":function(t,e,a){"use strict";var o=a("1d74"),s=a.n(o);s.a},"94aa":function(t,e,a){},9551:function(t,e,a){"use strict";var o=a("aa08"),s=a.n(o);s.a},"9f34":function(t,e,a){"use strict";var o=a("2f3b"),s=a.n(o);s.a},a405:function(t,e,a){"use strict";var o=a("aada"),s=a.n(o);s.a},a420:function(t,e,a){},aa08:function(t,e,a){},aada:function(t,e,a){},cf1c:function(t,e,a){t.exports=a.p+"img/loading.8a7630ca.gif"},e1a8:function(t,e,a){"use strict";var o=a("a420"),s=a.n(o);s.a},e5dd:function(t,e,a){"use strict";var o=a("f4b6"),s=a.n(o);s.a},ee68:function(t,e,a){"use strict";var o=a("1f3f"),s=a.n(o);s.a},f4b6:function(t,e,a){},f95f:function(t,e,a){}});
//# sourceMappingURL=app.fbfaf60c.js.map